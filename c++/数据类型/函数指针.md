# 函数指针
函数指针是C++中一个重要的概念，它允许你将函数像普通变量那样存储和传递。函数指针可以用来指向特定的函数，使得在运行时能够动态地选择和调用不同的函数，这种特性在编写灵活和可扩展的代码时非常有用。

## 定义函数指针
函数指针的定义包括函数的返回类型、指针声明符 (*)、指针变量名以及函数参数列表。基本格式如下：
```cpp
返回类型 (*指针变量名)(参数类型列表);
```

例如，指向一个无参数返回整数的函数的指针定义如下：
```cpp
int (*ptrToFunction)();
```

## 初始化函数指针
你可以将一个函数的地址赋给函数指针变量，就像给普通指针变量赋值一样。但要注意，赋值时只写函数名（不加括号和参数）：
```cpp
int someFunction() { return 42; }

int (*ptrToFunction)() = someFunction; // 正确的赋值
```

对于有参数的函数，赋值时同样不加括号和参数：
```cpp
int add(int a, int b) { return a + b; }

int (*addPtr)(int, int) = add; // 正确的赋值
```

## 通过函数指针调用函数
一旦函数指针被初始化，你就可以像通过函数名一样通过指针来调用函数：
```cpp
int result = ptrToFunction(); // 调用someFunction
int sum = addPtr(1, 2); // 调用add函数
```

## 函数指针作为参数
函数指针的一个重要用途是作为其他函数的参数，这样可以实现更灵活的回调机制或策略模式：
```cpp
void applyOperation(int (*operation)(int, int), int a, int b) {
    int result = operation(a, b);
    // 处理结果...
}

// 现在可以传入任何符合签名的函数
applyOperation(add, 10, 20); // 使用add函数
```

## 函数指针数组和指针
你还可以定义指向函数的数组或指针，这样就可以在运行时选择调用不同的函数：
```cpp
int (*functions[])(int) = {add, subtract, multiply}; // 假设存在subtract和multiply函数
int result = functions[1](5, 3); // 调用subtract函数
```

## Lambda表达式与函数指针
C++11引入了lambda表达式，虽然lambda表达式自身不能直接赋值给函数指针，但你可以使用函数对象或者std::function来达到类似的目的。

## 注意事项
- 类成员函数的函数指针需要额外的处理，因为成员函数有一个隐含的this参数。你需要定义一个指向成员函数的指针时，需要使用特殊的语法，并且在调用时提供一个指向对象的指针或引用来绑定this。

- 函数指针的类型必须与所指向的函数类型完全匹配，包括返回类型和参数类型。

函数指针是C++中一种强大的工具，它在事件驱动编程、策略模式、回调函数等场景中有着广泛的应用。

## 区分函数指针 和 指针函数
纯粹是翻译的问题，导致的二义性

函数指针：指针指向函数的首地址，通过函数指针访问函数

指针函数；返回值是函数的指针